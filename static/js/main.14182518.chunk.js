(this["webpackJsonpmy-demo-app"]=this["webpackJsonpmy-demo-app"]||[]).push([[0],{15:function(e,n,t){},25:function(e,n,t){},30:function(e,n,t){"use strict";t.r(n);var o,r,i=t(1),c=t(16),a=t.n(c),s=(t(25),t(6)),u=(t(20),t(2)),d=t.n(u),l=t(3),f=t(5),h=t(0),b=function(){return Object(h.jsx)("header",{children:Object(h.jsx)("h3",{children:"\u6c34\u5eab"})})},p=t(8),j=function(e){e.pk,e.deletTodoItem;var n=e.handleIsDone,t=e.todo,o=e.triggerEditColumn,r=e.handleSave,c=Object(i.useState)(t.title),a=Object(f.a)(c,2),s=a[0],u=a[1],d=function(){t.isEdit&&o(t,!1)};return Object(h.jsxs)("div",{className:Object(p.a)("task-item",{done:t.isDone,edit:t.isEdit}),children:[Object(h.jsx)("div",{className:"task-item-checked",children:Object(h.jsx)("span",{className:"icon icon-checked",onDoubleClick:function(){return n({id:t.id,title:t.title,isDone:!t.isDone},d)},children:Object(h.jsx)("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(h.jsx)("path",{fill:"#ff6600",fillRule:"evenodd",d:"M12 20c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8m0-17c-4.963 0-9 4.037-9 9s4.037 9 9 9 9-4.037 9-9-4.037-9-9-9"})})})}),Object(h.jsxs)("div",{className:"task-item-body",children:[Object(h.jsx)("span",{className:"task-item-body-text",onDoubleClick:function(){o(t.id,!0)},children:s}),Object(h.jsx)("input",{className:"task-item-body-input",type:"text",placeholder:"\u65b0\u589e\u5de5\u4f5c",value:s,onChange:function(e){u(e.target.value)},onDoubleClick:function(){return o(t.id,!1)},onKeyDown:function(e){return function(e){13===e.keyCode&&0!==s.length?r({id:t.id,title:s,isDone:t.isDone}):27===e.keyCode&&(o(t.id,!1),u(t.title))}(e)}})]}),Object(h.jsx)("div",{className:"task-item-action",children:Object(h.jsx)("button",{className:"btn-reset btn-destroy icon",onClick:function(){},children:" "})})]})},v=function(e){var n=e.todos,t=e.deletTodoItem,o=e.handleIsDone,r=e.triggerEditColumn,i=e.handleSave;return Object(h.jsx)("div",{className:"todos",children:n.map((function(e){return Object(h.jsx)(j,{pk:e.id,deletTodoItem:t,handleSave:i,handleIsDone:o,todo:e,triggerEditColumn:r},e.id)}))})},g=t(11),m=t(12),k=m.a.div(o||(o=Object(g.a)(["\n    display:flex;\n    justify-content:space-between;\n"]))),O=(m.a.button(r||(r=Object(g.a)(["\n    font-size:14px;\n    font-weight:400;\n    margin:2rem 0 1rem 0;\n    &:hover{\n        text-decoration:underline;\n    }\n"]))),function(e){var n=e.things;e.handleFBLogout;return Object(h.jsx)("footer",{children:Object(h.jsx)(k,{children:Object(h.jsxs)("p",{children:["\u5269\u9918\u6c34\u5eab: ",n]})})})}),w="https://gist.githubusercontent.com/May27Oliver/e66c7238287b391d4f07bb578e72bd9a/raw/0a55d0d63e0b2b11381f96da1266a03e673ffff6/todoList.json",x=function(){var e=Object(l.a)(d.a.mark((function e(){var n,t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w,{});case 2:return n=e.sent,e.next=5,n.json();case 5:return t=e.sent,e.abrupt("return",t.info);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(d.a.mark((function e(n){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/todos/").concat(n),{method:"DELETE",headers:{"Facebook-Client-Token":localStorage.getItem("facebookClientToken")}});case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),D=function(){var e=Object(l.a)(d.a.mark((function e(n){var t,o,r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.id,o=n.title,r=n.isDone,e.next=3,fetch("".concat(w,"/todos/").concat(t),{method:"PATCH",headers:{"Content-Type":"application/json","Facebook-Client-Token":localStorage.getItem("facebookClientToken")},body:JSON.stringify({title:o,isDone:r})});case 3:return i=e.sent,e.abrupt("return",i.json());case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),C=(t(15),[]),S=function(e){var n=e.handleFBLogout,t=Object(i.useState)(C),o=Object(f.a)(t,2),r=o[0],c=o[1],a=Object(i.useState)(""),u=Object(f.a)(a,2);u[0],u[1];Object(i.useEffect)((function(){p()}),[]);var p=function(){var e=Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:C=e.sent,console.log("defaultTodos",C),c(C);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(l.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(n),p();case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(d.a.mark((function e(n){var t,o,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.id,o=n.title,r=n.isDone,D({id:t,title:o,isDone:r}),p();case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(b,{}),Object(h.jsx)(v,{todos:r,deletTodoItem:j,handleIsDone:function(e,n){n&&n(),g(e),p()},handleSave:g,triggerEditColumn:function(e,n){c((function(t){return t.map((function(t){return t.id!==e?t:t.id===e&&t.isDone?Object(s.a)(Object(s.a)({},t),{},{isEdit:n,isDone:!1}):t.id===e?Object(s.a)(Object(s.a)({},t),{},{isEdit:n}):void 0}))}))}}),Object(h.jsx)(O,{things:r.length,handleFBLogout:n})]})},E=function(){return Object(h.jsx)("div",{className:"app",children:Object(h.jsx)(S,{})})},W=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function T(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}"serviceWorker"in navigator?navigator.serviceWorker.register("./serviceWorker.js",{scope:"./"}).then((function(e){console.log("Service Workers \u8a3b\u518a\u6210\u529f\uff01\uff01",e)})).catch((function(e){console.log("Service Workers \u8a3b\u518a\u5931\u6557",e)})):console.log("\u700f\u89bd\u5668\u4e0d\u652f\u63f4\uff01"),a.a.render(Object(h.jsx)(E,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/PWA-demo",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/PWA-demo","/service-worker.js");W?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var o=t.headers.get("content-type");404===t.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):T(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):T(n,e)}))}}()}},[[30,1,2]]]);
//# sourceMappingURL=main.14182518.chunk.js.map
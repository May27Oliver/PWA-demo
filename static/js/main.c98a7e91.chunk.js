(this["webpackJsonpmy-demo-app"]=this["webpackJsonpmy-demo-app"]||[]).push([[0],{15:function(e,t,n){},25:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var o,r,i=n(1),c=n(16),a=n.n(c),s=(n(25),n(6)),u=(n(20),n(2)),d=n.n(u),l=n(3),f=n(5),h=n(0),b=function(){return Object(h.jsx)("header",{children:Object(h.jsx)("h3",{children:"\u6c34\u5eab"})})},p=n(8),j=function(e){e.pk,e.deletTodoItem;var t=e.handleIsDone,n=e.todo,o=e.triggerEditColumn,r=e.handleSave,c=Object(i.useState)(n.title),a=Object(f.a)(c,2),s=a[0],u=a[1],d=function(){n.isEdit&&o(n,!1)};return Object(h.jsxs)("div",{className:Object(p.a)("task-item",{done:n.isDone,edit:n.isEdit}),children:[Object(h.jsx)("div",{className:"task-item-checked",children:Object(h.jsx)("span",{className:"icon icon-checked",onDoubleClick:function(){return t({id:n.id,title:n.title,isDone:!n.isDone},d)},children:Object(h.jsx)("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(h.jsx)("path",{fill:"#ff6600",fillRule:"evenodd",d:"M12 20c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8m0-17c-4.963 0-9 4.037-9 9s4.037 9 9 9 9-4.037 9-9-4.037-9-9-9"})})})}),Object(h.jsxs)("div",{className:"task-item-body",children:[Object(h.jsx)("span",{className:"task-item-body-text",onDoubleClick:function(){o(n.id,!0)},children:s}),Object(h.jsx)("input",{className:"task-item-body-input",type:"text",placeholder:"\u65b0\u589e\u5de5\u4f5c",value:s,onChange:function(e){u(e.target.value)},onDoubleClick:function(){return o(n.id,!1)},onKeyDown:function(e){return function(e){13===e.keyCode&&0!==s.length?r({id:n.id,title:s,isDone:n.isDone}):27===e.keyCode&&(o(n.id,!1),u(n.title))}(e)}})]}),Object(h.jsx)("div",{className:"task-item-action",children:Object(h.jsx)("button",{className:"btn-reset btn-destroy icon",onClick:function(){},children:" "})})]})},v=function(e){var t=e.todos,n=e.deletTodoItem,o=e.handleIsDone,r=e.triggerEditColumn,i=e.handleSave;return Object(h.jsx)("div",{className:"todos",children:t.map((function(e){return Object(h.jsx)(j,{pk:e.id,deletTodoItem:n,handleSave:i,handleIsDone:o,todo:e,triggerEditColumn:r},e.id)}))})},m=n(11),g=n(12),O=g.a.div(o||(o=Object(m.a)(["\n    display:flex;\n    justify-content:space-between;\n"]))),w=(g.a.button(r||(r=Object(m.a)(["\n    font-size:14px;\n    font-weight:400;\n    margin:2rem 0 1rem 0;\n    &:hover{\n        text-decoration:underline;\n    }\n"]))),function(e){var t=e.things;e.handleFBLogout;return Object(h.jsx)("footer",{children:Object(h.jsx)(O,{children:Object(h.jsxs)("p",{children:["\u5269\u9918\u6c34\u5eab: ",t]})})})}),k="https://gist.githubusercontent.com/May27Oliver/e66c7238287b391d4f07bb578e72bd9a/raw/0a55d0d63e0b2b11381f96da1266a03e673ffff6/todoList.json",x=function(){var e=Object(l.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(k,{});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n.info);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(k,"/todos/").concat(t),{method:"DELETE",headers:{"Facebook-Client-Token":localStorage.getItem("facebookClientToken")}});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(l.a)(d.a.mark((function e(t){var n,o,r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,o=t.title,r=t.isDone,e.next=3,fetch("".concat(k,"/todos/").concat(n),{method:"PATCH",headers:{"Content-Type":"application/json","Facebook-Client-Token":localStorage.getItem("facebookClientToken")},body:JSON.stringify({title:o,isDone:r})});case 3:return i=e.sent,e.abrupt("return",i.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=(n(15),[]),E=function(e){var t=e.handleFBLogout,n=Object(i.useState)(C),o=Object(f.a)(n,2),r=o[0],c=o[1],a=Object(i.useState)(""),u=Object(f.a)(a,2);u[0],u[1];Object(i.useEffect)((function(){p()}),[]);var p=function(){var e=Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:C=e.sent,console.log("defaultTodos",C),c(C);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(l.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(t),p();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(d.a.mark((function e(t){var n,o,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.id,o=t.title,r=t.isDone,D({id:n,title:o,isDone:r}),p();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(b,{}),Object(h.jsx)(v,{todos:r,deletTodoItem:j,handleIsDone:function(e,t){t&&t(),m(e),p()},handleSave:m,triggerEditColumn:function(e,t){c((function(n){return n.map((function(n){return n.id!==e?n:n.id===e&&n.isDone?Object(s.a)(Object(s.a)({},n),{},{isEdit:t,isDone:!1}):n.id===e?Object(s.a)(Object(s.a)({},n),{},{isEdit:t}):void 0}))}))}}),Object(h.jsx)(w,{things:r.length,handleFBLogout:t})]})},S=function(){return Object(h.jsx)("div",{className:"app",children:Object(h.jsx)(E,{})})},T=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function N(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a.a.render(Object(h.jsx)(S,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/PWA-demo",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/PWA-demo","/service-worker.js");T?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):N(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):N(t,e)}))}}()}},[[30,1,2]]]);
//# sourceMappingURL=main.c98a7e91.chunk.js.map